<div class="row">
  <div class='col-sm-12 col-lg-7'>
    <div class="banner" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path @place.photo.key, height: 300, crop: :fill %>')">
      <div class="container">
        <h1 class="text-center"><%= @place.name %></h1>
      </div>
    </div>

    <div class='d-flex mb-3 justify-content-between mt-3'>
      <div>
        <div class='d-flex align-items-baseline'>
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Book place
          </button>
          <p class='ms-3 h5 fw-semibold'>$<%= @place.price %> / per night</p>
        </div>
      </div>
      <div>
        <p class='h4 mb-3'><%= 'âœ°' * (@place.rating || 0) %></p>
      </div>
    </div>

      <p class='h5 fw-semibold'>Location: <%= @place.location %></p>
      <p class='fw-semibold'>Host: <%= @place.user.name %></p>
      <p>Description: <%= @place.description %></p>

      <%= link_to 'Back to places', places_path, class: 'btn btn-sm btn-outline-primary rounded' %>
  </div>

  <div class='col-sm-12 col-lg-5'>
    <div style="width: 100%; height: 600px;"
      data-controller="map"
      data-map-markers-value="<%= @marker.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>
</div>


<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Select your dates</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <%= render 'bookings/form', booking: @booking %>
      </div>
    </div>
  </div>
</div>
